{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","name","number","handlePersonDelete","onClick","Persons","persons","filter","personsToShow","p","toLowerCase","includes","map","person","PersonForm","props","onSubmit","handlePersonAdd","value","onChange","handleNameChange","handleNumberChange","type","Filter","handleFilterChange","Notification","message","error","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","newFilter","setNewFilter","newName","setNewName","newNumber","setNewNumber","alertMessage","setAlertMessage","setError","useEffect","personService","initialPersons","confirmPersonUpdate","window","confirm","personsId","updatePerson","find","changedPerson","returnedPerson","actionSuccess","catch","errorNotification","setTimeout","event","target","preventDefault","some","concat","personName","ReactDOM","render","document","getElementById"],"mappings":"sMAEMA,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACG,EAAIF,GAEhB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAAAG,GAEX,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,OCb9BM,EANA,SAAC,GAAwC,IAAvCC,EAAsC,EAAtCA,KAAMC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,mBAC3B,OACI,gCAAMF,EAAN,IAAaC,EAAb,IAAqB,wBAAQE,QAASD,EAAjB,sBAArB,QCYOE,EAbC,SAAC,GAA2C,IAA1CC,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,OAAQJ,EAAwB,EAAxBA,mBACzBK,EAA4B,KAAXD,EACrBD,EACAA,EAAQC,QAAO,SAAAE,GAAC,OAAIA,EAAER,KAAKS,cAAcC,SAASJ,EAAOG,kBAE3D,OACI,8BACEF,EAAcI,KAAI,SAAAC,GAAM,OAClB,cAAC,EAAD,CAA0BZ,KAAMY,EAAOZ,KAAMC,OAAQW,EAAOX,OAAQC,mBAAoB,kBAAMA,EAAmBU,EAAOhB,MAA3GgB,EAAOZ,YCOnBa,EAhBE,SAACC,GAChB,OACE,uBAAMC,SAAUD,EAAME,gBAAtB,UACI,yCACU,uBAAOC,MAAOH,EAAMd,KAAMkB,SAAUJ,EAAMK,sBAEpD,2CACY,uBAAOF,MAAOH,EAAMb,OAAQiB,SAAUJ,EAAMM,wBAExD,8BACI,wBAAQC,KAAK,SAAb,uBCFCC,EARA,SAACR,GACZ,OACI,qDACsB,uBAAOG,MAAOH,EAAMR,OAAQY,SAAUJ,EAAMS,yBC4B3DC,EA/BM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAE/B,GAAgB,OAAZD,EACF,OAAO,KAGT,IAAME,EAAoB,CACxBC,MAAOF,EAAQ,MAAQ,QACvBG,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAWhB,OACE,qBAAKC,MAAOR,EAAZ,SACGF,KCsHQW,EA3IH,WACV,MAAgCC,mBAAS,IAAzC,mBAAQhC,EAAR,KAAiBiC,EAAjB,KACA,EAAoCD,mBAAS,IAA7C,mBAAQE,EAAR,KAAmBC,EAAnB,KACA,EAAgCH,mBAAS,IAAzC,mBAAQI,EAAR,KAAiBC,EAAjB,KACA,EAAoCL,mBAAS,IAA7C,mBAAQM,EAAR,KAAmBC,EAAnB,KACA,EAA0CP,mBAAS,MAAnD,mBAAQQ,EAAR,KAAsBC,EAAtB,KACA,EAA4BT,oBAAS,GAArC,mBAAQX,EAAR,KAAeqB,EAAf,KAGAC,qBAAU,WACRC,IAEG1D,MAAK,SAAA2D,GACJZ,EAAWY,QAEd,IAGH,IAqCMC,EAAsB,WAC1B,GAAIC,OAAOC,QAAP,UAAkBZ,EAAlB,2EAAoG,CACtG,IAAMa,EAAYjD,EAAQC,QAAO,SAAAE,GAAC,OAAIA,EAAER,OAASyC,KAAS9B,KAAI,SAAAH,GAAC,OAAIA,EAAEZ,MAAI,GACzE2D,EAAaD,EAAWX,KAKtBY,EAAe,SAAC3D,EAAI+C,GACxB,IAAM/B,EAASP,EAAQmD,MAAK,SAAAhD,GAAC,OAAIA,EAAEZ,KAAOA,KACpC6D,EAAa,2BAAQ7C,GAAR,IAAgBX,OAAQ0C,IAC3CM,EACUrD,EAAI6D,GACXlE,MAAK,SAAAmE,GACJpB,EAAWjC,EAAQM,KAAI,SAAAH,GAAC,OAAIA,EAAEZ,KAAOA,EAAKY,EAAIkD,MAC9CC,EAAc,WAAD,OAAYD,EAAe1D,UAEzC4D,OAAM,SAAAlC,GACLmC,EAAkB,kBAAD,OAAmBjD,EAAOZ,KAA1B,kDAqBjB2D,EAAgB,SAAClC,GACrBqB,EACErB,GAEFqC,YAAW,WACThB,EAAgB,QACf,KACHJ,EAAW,IACXE,EAAa,KAITiB,EAAoB,SAACpC,GACzBsB,GAAS,GACTD,EACErB,GAEFqC,YAAW,WACThB,EAAgB,MAChBC,GAAS,KACR,MAIL,OACE,gCACE,2CAEA,cAAC,EAAD,CAActB,QAASoB,EAAcnB,MAAOA,IAE5C,cAAC,EAAD,CAAQpB,OAAQiC,EAAWhB,mBA1GJ,SAACwC,GAC1BvB,EAAauB,EAAMC,OAAO/C,UA2GxB,kDAEA,cAAC,EAAD,CAAYD,gBA/FE,SAAC+C,IACjBA,EAAME,iBACF5D,EAAQ6D,MAAK,SAAA1D,GAAC,OAAIA,EAAER,OAASyC,MAC/BU,IAOFF,EAJqB,CACnBjD,KAAMyC,EACNxC,OAAQ0C,IAIPpD,MAAK,SAAAmE,GACJpB,EAAWjC,EAAQ8D,OAAOT,IAC1BC,EAAc,SAAD,OAAUD,EAAe1D,UAEvC4D,OAAM,SAAAlC,GACLmC,EAAkBnC,EAAMlC,SAASC,KAAKiC,WA+E5B1B,KAAMyC,EAAStB,iBA1GN,SAAC4C,GACxBrB,EAAWqB,EAAMC,OAAO/C,QA0GVhB,OAAQ0C,EAAWvB,mBAtGR,SAAC2C,GAC1BnB,EAAamB,EAAMC,OAAO/C,UAuGxB,yCAEA,cAAC,EAAD,CAASZ,QAASA,EAASC,OAAQiC,EAAWrC,mBAxD7B,SAACN,GACpB,IAAMwE,EAAa/D,EAAQC,QAAO,SAAAE,GAAC,OAAIA,EAAEZ,KAAOA,KAAIe,KAAI,SAAAH,GAAC,OAAIA,EAAER,QAC3DoD,OAAOC,QAAP,iBAAyBe,KAC3BnB,EACQrD,GACPL,MAAK,SAAAC,GACJ8C,EAAWjC,EAAQC,QAAO,SAAAE,GAAC,OAAIA,EAAEZ,KAAOA,MACxC+D,EAAc,WAAD,OAAYS,OAE1BR,OAAM,SAAAlC,GACLmC,EAAkB,GAAD,OAAIO,EAAJ,wDC5FzBC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.2937c88a.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl) \r\n    return request.then(response => response.data) \r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)   \r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)   \r\n}\r\n\r\nexport default { getAll, create, update, remove}","import React from 'react'\r\n\r\nconst Person = ({name, number, handlePersonDelete}) => {\r\n    return(\r\n        <div>{name} {number} <button onClick={handlePersonDelete}> poista </button> </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filter, handlePersonDelete}) => {\r\n    const personsToShow = (filter === '')\r\n    ? persons\r\n    : persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\r\n    \r\n    return(\r\n        <div>\r\n\t        {personsToShow.map(person => \r\n                <Person key={person.name} name={person.name} number={person.number} handlePersonDelete={() => handlePersonDelete(person.id)}/>)}           \r\n        </div>      \r\n    )\r\n}\r\n \r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n      <form onSubmit={props.handlePersonAdd}>\r\n          <div>\r\n              name: <input value={props.name} onChange={props.handleNameChange}/>      \r\n          </div>\r\n          <div>\r\n              number: <input value={props.number} onChange={props.handleNumberChange}/>\r\n          </div>\r\n          <div>\r\n              <button type=\"submit\">add</button>\r\n          </div>\r\n      </form>\r\n    )\r\n  }\r\n  \r\n  export default PersonForm","import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\n    return(\r\n        <div>\r\n            filter shown with <input value={props.filter} onChange={props.handleFilterChange}/>      \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Notification = ({ message, error }) => { \r\n  \r\n  if (message === null) {\r\n    return null\r\n  }\r\n  \r\n  const notificationStyle = {\r\n    color: error ? 'red' : 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }  \r\n\r\n/*\r\nconst notificationStyle = {\r\n  color: 'green',\r\n  fontStyle: 'italic',\r\n  fontSize: 16\r\n}\r\n*/\r\n  \r\n  return (\r\n    <div style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, {useEffect, useState} from 'react'\nimport personService from './services/persons'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newFilter, setNewFilter ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ alertMessage, setAlertMessage ] = useState(null)\n  const [ error, setError ] = useState(false) // for changing the notification color from green to red\n  \n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  \n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n   \n\n  const addPerson = (event) => {\n    event.preventDefault() \n    if (persons.some(p => p.name === newName)) {\n      confirmPersonUpdate() // pop-up where user allows or denies update\n      return \n    } \n    const personObject = {\n      name: newName,\n      number: newNumber     \n    }\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        actionSuccess(`Added ${returnedPerson.name}`)\n      })  \n      .catch(error => {\n        errorNotification(error.response.data.error)\n      })    \n  }\n\n\n  const confirmPersonUpdate = () => {\n    if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n      const personsId = persons.filter(p => p.name === newName).map(p => p.id)[0] // taulukko jossa yksi alkio, [id] -> taulukosta pois muuttujaan personsId   \n      updatePerson(personsId, newNumber)\n    }\n  }\n\n\n  const updatePerson = (id, newNumber) => {    \n    const person = persons.find(p => p.id === id)\n    const changedPerson = { ...person, number: newNumber} \n    personService\n      .update(id, changedPerson)\n      .then(returnedPerson => {     \n        setPersons(persons.map(p => p.id !== id ? p : returnedPerson)) // onko !== ehtoTosi ? on : eiOle\n        actionSuccess(`Updated ${returnedPerson.name}`)\n      })\n      .catch(error => {\n        errorNotification(`Information of ${person.name} has already been removed from the server`)    \n      })  \n  }\n  \n\n  const deletePerson = (id) => {\n    const personName = persons.filter(p => p.id === id).map(p => p.name) \n    if (window.confirm(`Delete ${personName}`)) {\n      personService\n      .remove(id)\n      .then(response => {\n        setPersons(persons.filter(p => p.id !== id)) \n        actionSuccess(`Deleted ${personName}`)\n      })\n      .catch(error => {\n        errorNotification(`${personName} has already been removed from the server`)    \n      }) \n    }  \n  }\n\n\n  const actionSuccess = (message) => {\n    setAlertMessage(\n      message\n    )\n    setTimeout(() => {\n      setAlertMessage(null)\n    }, 5000)\n    setNewName('')\n    setNewNumber('')\n  }\n\n\n  const errorNotification = (message) => {\n    setError(true)\n    setAlertMessage(\n      message\n    )\n    setTimeout(() => {\n      setAlertMessage(null)\n      setError(false) \n    }, 5000)\n  } \n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={alertMessage} error={error} />\n        \n      <Filter filter={newFilter} handleFilterChange={handleFilterChange} />\n\n      <h2>add a new person</h2>\n      \n      <PersonForm handlePersonAdd={addPerson} \n                  name={newName} handleNameChange={handleNameChange} \n                  number={newNumber} handleNumberChange={handleNumberChange} />\n\n      <h2>Numbers</h2>\n\n      <Persons persons={persons} filter={newFilter} handlePersonDelete={deletePerson} />    \n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}